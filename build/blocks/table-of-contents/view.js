(()=>{const t=document.querySelector(".wmf-toc-jumplist"),e=t.querySelectorAll(".wmf-toc-jumplist__items a"),o=t.querySelector(".wmf-toc-progress"),c=300;window.addEventListener("scroll",(function(){(function(){const t=(document.querySelector("main")||document.querySelector("article")||document.body).clientHeight,e=document.documentElement.scrollTop,c=+Math.min(e/t*100,100).toFixed(2),n=(100-c)/100;o.setAttribute("style",`width:${c}%`);const r=o.querySelector("circle"),s=+r.getAttribute("r");if(isNaN(s))return;const i=Math.PI*s*2;r.setAttribute("stroke-dashoffset",`${(n*i).toFixed(0)}px`)})(),function(){const t=function(){for(const t of e){const e=t.getAttribute("href"),o=document.querySelector(e).getBoundingClientRect();if(o.top<=c&&o.top+o.height>=0)return t}return null}();t&&e.forEach((e=>{e.classList.toggle("wmf-toc-jumplist__active-item",t===e)}))}()}));const n="wmf-toc-jumplist--modal-open";document.querySelector(".wmf-toc-progress button").addEventListener("click",(()=>{document.querySelector(".wmf-toc-jumplist").classList.add(n)})),document.addEventListener("click",(({target:t})=>{const e=e=>t?.classList?.contains?.(e);(e("wmf-toc-jumplist__modal-blanket")||e("wmf-toc-jumplist__modal-close")||"A"===t.nodeName&&/^#[A-Za-z0-9-]+$/.test(t.getAttribute("href")))&&document.querySelectorAll(`.${n}`).forEach((t=>t.classList.remove(n)))}))})();