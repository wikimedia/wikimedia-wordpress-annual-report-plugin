(()=>{var e={694:(e,r,t)=>{"use strict";var n=t(925);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,r,t,o,a,l){if(l!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:o};return t.PropTypes=t,t}},556:(e,r,t)=>{e.exports=t(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942:(e,r)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",r=0;r<arguments.length;r++){var t=arguments[r];t&&(e=l(e,a(t)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var t in e)n.call(e,t)&&e[t]&&(r=l(r,t));return r}function l(e,r){return r?e?e+" "+r:e+r:e}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(r,[]))||(e.exports=t)}()}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";const e=window.React,r=window.wp.blocks,n=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.data,l=window.wp.element;var s=t(556),i=t.n(s);function c({className:r,allowedBlocks:t,template:n,currentItemIndex:a,parentBlockId:l,renderAppender:s,captureToolbars:i}){const c=(0,e.useRef)(),d=(0,o.useInnerBlocksProps)({id:`inner-block-display-single-${l}`,className:r},{__experimentalCaptureToolbars:i,allowedBlocks:t,orientation:"horizontal",renderAppender:s,template:n,templateLock:!1});return(0,e.useEffect)((()=>{c.current&&(c.current.innerHTML=`#inner-block-display-single-${l} > *:not(:nth-child(${a+1}) ) { display: none; }`)}),[a,c,l]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("style",{ref:c}),(0,e.createElement)("div",{...d}))}c.defaultProps={currentItemIndex:0,renderAppender:!1,captureToolbars:!0},c.propTypes={parentBlockId:i().string.isRequired,allowedBlocks:i().arrayOf(i().string).isRequired,template:i().array,className:i().string,currentItemIndex:i().number,renderAppender:i().oneOfType([i().bool,i().element])};const d=c;var p=t(942),u=t.n(p);const m=window.wp.components;function f({totalPages:r,currentPage:t,setCurrentPage:n,prevEnabled:o,nextEnabled:a,addSlide:l=(()=>{}),addSlideEnabled:s=!1}){return(0,e.createElement)("div",{className:"inner-block-slider__navigation"},(0,e.createElement)(m.IconButton,{disabled:!o,icon:"arrow-left-alt2",isSecondary:!0,isSmall:!0,onClick:()=>{o&&n(t-1)}}),[...Array(r).keys()].map((r=>(0,e.createElement)(m.Button,{key:r+1,"aria-label":`Slide ${r+1}`,className:u()("components-button","is-not-small",{"is-primary":t===r+1,"is-secondary":t!==r+1}),type:"button",onClick:()=>{n(r+1)}},r+1))),(0,e.createElement)(m.IconButton,{disabled:!a,icon:"arrow-right-alt2",isSecondary:!0,isSmall:!0,onClick:()=>{a&&n(t+1)}}),(0,e.createElement)(m.IconButton,{disabled:!s,icon:"plus-alt2",isSecondary:!0,isSmall:!0,onClick:()=>l()}))}f.propTypes={totalPages:i().number.isRequired,currentPage:i().number.isRequired,setCurrentPage:i().func.isRequired,prevEnabled:i().bool.isRequired,nextEnabled:i().bool.isRequired,addSlide:i().func,addSlideEnabled:i().bool};const b=f,y=JSON.parse('{"UU":"wmf-reports/report-archive"}');(0,r.registerBlockType)(y.UU,{edit:function({clientId:t}){const s=(0,a.useSelect)((e=>e("core/block-editor").getBlock(t).innerBlocks)),{insertBlock:i}=(0,a.useDispatch)("core/block-editor"),c=(0,l.useRef)(s.length),[p,u]=(0,l.useState)(0);(0,l.useEffect)((()=>{(s.length>c.current||s.length<c.current&&p+1>s.length)&&u(s.length-1),c.current=s.length}),[s.length,p,c,s]);const m=(0,o.useBlockProps)({className:"report-archive carousel"});return(0,e.createElement)("div",{...m},(0,e.createElement)("div",{className:"inner-block-slider"},(0,e.createElement)(d,{allowedBlocks:["wmf-reports/report"],className:"slides",currentItemIndex:p,parentBlockId:t,template:["wmf-reports/report"]}),(0,e.createElement)("p",{className:"help"},(0,n.__)("Click on the + below to add a slide.","wmf-reports")),(0,e.createElement)(b,{addSlide:()=>{const e=Date.now(),n=(0,r.createBlock)("wmf-reports/report",{id:e});i(n,void 0,t)},addSlideEnabled:!0,currentPage:p+1,nextEnabled:p+1<s.length,prevEnabled:p+1>1,setCurrentPage:e=>{u(e-1)},totalPages:s.length})))},save:()=>(0,e.createElement)(o.InnerBlocks.Content,null)})})()})();