(()=>{"use strict";const e=window.wp.blocks,t=window.React,o=window.wp.i18n,s=window.wp.blockEditor,a=window.wp.components,r=window.wp.data,i=window.ReactJSXRuntime,l=JSON.parse('{"UU":"wmf-reports/story"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:l,clientId:n,setAttributes:c}){const{PostSelectButton:u}=window?.hm?.components||{PostSelectButton:()=>{}},{postId:p,postType:m}=l,d="wikimedia-endow"===wmf.theme;(0,t.useEffect)((()=>{l.id||c({id:Date.now()})}),[l.id,c]);const g=(0,r.useSelect)((e=>{const t=e("core/editor").getBlocksByClientId(n);return t&&t[0]&&t[0]?.innerBlocks||[]})),{media:_,post:w}=(0,r.useSelect)((e=>{const t=e("core").getEntityRecord("postType",m,p);return{media:t?.featured_media?e("core").getMedia(t?.featured_media):{},post:t}})),{insertBlocks:f,removeBlocks:h}=(0,r.useDispatch)("core/block-editor");return(0,i.jsxs)("div",{...(0,s.useBlockProps)({className:"carousel__slide"}),children:[!d&&(0,i.jsx)(s.InspectorControls,{children:(0,i.jsxs)(a.PanelBody,{children:[(0,i.jsx)(a.SelectControl,{label:(0,o.__)("Choose Post Type","wmf-reports"),help:(0,o.__)("Altering the post type will allow you to choose posts from that post type using the select post button below.","wmf-reports"),options:[{label:"Post",value:"post"},{label:"Page",value:"page"},{label:"Profile",value:"profile"},{label:"Report",value:"wmf-report"},{label:"Story (Default)",value:"story"}],value:m,onChange:e=>{c({postType:e})}}),(0,i.jsx)(a.BaseControl,{className:"story-base-control",help:(0,o.__)("Associate this post with a slide. Once you have chosen a post use the button below to refresh the slide content.","wmf-reports"),id:(0,o.__)("Associated Post","wmf-reports"),label:(0,o.__)("Associated Post","wmf-reports"),children:(0,i.jsx)(u,{maxPosts:1,postType:m,value:[p],onSelect:e=>{const t=e?.[0]?.id||0;0!==t&&c({postId:t})},children:(0,i.jsx)("span",{className:"components-button is-secondary",children:(0,o.__)("Select post","wmf-reports")})})}),0!==p&&(0,i.jsx)(a.BaseControl,{className:"story-base-control",help:(0,o.__)("Pull the slide content from the associated post.","wmf-reports"),id:(0,o.__)("Refresh Slide Content","wmf-reports"),label:(0,o.__)("Refresh Slide Content","wmf-reports"),children:(0,i.jsx)(a.Button,{variant:"secondary",onClick:()=>{if(!p||0===p||!w)return;const t=g.map((e=>e.clientId)),o=w.title.raw||"",s=w?.featured_media||0,a=_?.link||"",r=w?.link||"#",i=(w.excerpt.rendered||"").replace(/<\/?[^>]+(>|$)/g,""),l=w?.content?.raw||"",c=wp.blocks.rawHandler({HTML:l});h(t);const u=[(0,e.createBlock)("core/group",{align:"full",backgroundColor:d?"wend-report-slate-blue":"wmf-report-blue",className:"wmf-pattern-reports-carousel-slide",layout:{type:"constrained"},textColor:d?"white":"base100"},[(0,e.createBlock)("core/columns",{align:"wide"},[(0,e.createBlock)("core/column",{width:d?"50%":"66.66%"},[(0,e.createBlock)("core/image",{aspectRatio:d?"1/1":"4/3",className:"is-style-default wmf-pattern-reports-carousel-slide__image",id:s||74197,lightbox:{aspectRatio:d?"1/1":"4/3",className:"is-style-default wmf-pattern-reports-carousel-slide__image",enabled:!1,id:s||74197,linkDestination:"none",scale:"cover",sizeSlug:"full",url:a||"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"},linkDestination:"none",scale:"cover",sizeSlug:"full",url:a||"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"})]),(0,e.createBlock)("core/column",{width:"33.33%"},[(0,e.createBlock)("core/heading",{className:"wmf-pattern-reports-carousel-slide__heading is-style-h2",content:`<strong>${o||"Lorem ipsum dolor sit amet vulputate."}</strong>`,level:3}),(0,e.createBlock)("core/paragraph",{className:"is-style-sans-p",content:i||"Lorem ipsum dolor sit amet ullamcorper convallis condimentum suspendisse cras blandit congue tincidunt turpis vulputate. Imperdiet quisque libero in porta venenatis vitae netus condimentum."}),(0,e.createBlock)("core/buttons",{},[(0,e.createBlock)("core/button",{backgroundColor:d?"white":"base100",className:"is-style-tertiary wmf-pattern-reports-carousel-slide__button overlay__trigger",text:"Read More",style:{elements:{link:{color:{text:"var:preset|color|base0"}}}},textColor:"base10",url:r||"#"})])])])]),(0,e.createBlock)("wmf-reports/overlay",{postId:p,postType:m},[(0,e.createBlock)("core/group",{className:"wmf-pattern-overlay"},[(0,e.createBlock)("core/group",{layout:{type:"flex",orientation:"vertical"}},[(0,e.createBlock)("core/paragraph",{className:"wmf-pattern-overlay__category is-style-sans-p",content:"<strong>Lorem ipsum / Sit amet</strong>",style:{elements:{link:{color:{text:"var:preset|color|orange"}}}},textColor:"orange"}),(0,e.createBlock)("core/heading",{className:"wmf-pattern-overlay__heading is-style-h2",content:`<strong>${o||"Lorem ipsum dolor sit amet imperdiet</strong>"}</strong>`,level:4}),(0,e.createBlock)("core/paragraph",{className:"wmf-pattern-overlay__location is-style-sans-p",content:"<em>Optional line for location</em>"}),(0,e.createBlock)("core/image",{aspectRatio:"4/3",className:"is-style-default wmf-pattern-overlay__image",id:s||74197,lightbox:{aspectRatio:"4/3",className:"is-style-default wmf-pattern-overlay__image",enabled:!1,id:s||74197,linkDestination:"none",scale:"cover",sizeSlug:"full",url:a||"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"},linkDestination:"none",scale:"cover",sizeSlug:"full",url:a||"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"})]),...c])])];f(u,null,n)},children:(0,o.__)("Refresh Slide","wmf-reports")})})]})}),(0,i.jsx)(s.InnerBlocks,{template:[["core/group",{align:"full",backgroundColor:d?"wend-report-slate-blue":"wmf-report-blue",className:"wmf-pattern-reports-carousel-slide",layout:{type:"constrained"},textColor:d?"white":"base100"},[["core/columns",{align:"wide"},[["core/column",{width:d?"50%":"66.66%"},[["core/image",{aspectRatio:d?"1/1":"4/3",className:"is-style-default wmf-pattern-reports-carousel-slide__image",id:74197,lightbox:{aspectRatio:d?"1/1":"4/3",className:"is-style-default wmf-pattern-reports-carousel-slide__image",enabled:!1,id:74197,linkDestination:"none",scale:"cover",sizeSlug:"full",url:"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"},linkDestination:"none",scale:"cover",sizeSlug:"full",url:"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"}]]],["core/column",{width:"33.33%"},[["core/heading",{className:"wmf-pattern-reports-carousel-slide__heading is-style-h2",content:"<strong>Lorem ipsum dolor sit amet vulputate.</strong>",level:3}],["core/paragraph",{className:"is-style-sans-p",content:"Lorem ipsum dolor sit amet ullamcorper convallis condimentum suspendisse cras blandit congue tincidunt turpis vulputate. Imperdiet quisque libero in porta venenatis vitae netus condimentum."}],["core/buttons",{},[["core/button",{backgroundColor:d?"white":"base100",className:"is-style-tertiary wmf-pattern-reports-carousel-slide__button overlay__trigger",text:"Read More",style:{elements:{link:{color:{text:"var:preset|color|base0"}}}},textColor:"base10",url:"#"}]]]]]]]]],["wmf-reports/overlay",{},[["core/group",{className:"wmf-pattern-overlay"},[["core/group",{layout:{type:"flex",orientation:"vertical"}},[["core/paragraph",{className:"wmf-pattern-overlay__category is-style-sans-p",content:"<strong>Lorem ipsum / Sit amet</strong>",style:{elements:{link:{color:{text:"var:preset|color|orange"}}}},textColor:"orange"}],["core/heading",{className:"wmf-pattern-overlay__heading is-style-h2",content:"<strong>Lorem ipsum dolor sit amet imperdiet</strong>",level:4}],["core/paragraph",{className:"wmf-pattern-overlay__location is-style-sans-p",content:"<em>Optional line for location</em>"}],["core/image",{aspectRatio:"4/3",className:"is-style-default wmf-pattern-overlay__image",id:74197,lightbox:{aspectRatio:"4/3",className:"is-style-default wmf-pattern-overlay__image",enabled:!1,id:74197,linkDestination:"none",scale:"cover",sizeSlug:"full",url:"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"},linkDestination:"none",scale:"cover",sizeSlug:"full",url:"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"}]]],["core/paragraph",{content:"Lorem ipsum dolor sit amet magna curabitur pretium. Nisi vel augue egestas sapien blandit eros maecenas netus dapibus. Sagittis mattis orci condimentum ornare maecenas iaculis sapien erat diam praesent egestas fermentum. Etiam et sollicitudin odio nisl consequat porttitor condimentum sapien feugiat libero dapibus dui risus. Sapien do a phasellus risus pretium tristique euismod tempor."}],["core/image",{className:"is-style-report-image",caption:'Lorem ipsum dolor sit amet at cras ac massa erat hac mattis dolore.<br><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-base-50-color">File provided by Wikimedia Commons</mark>',id:74197,linkDestination:"none",sizeSlug:"large",url:"/wp-content/uploads/2024/01/Wikimedia_Foundation_AI_Blog_Series_Header.png"}],["core/paragraph",{content:"Turpis nulla eiusmod congue orci arcu elit nisi. Magna maecenas id proin lacus tempor vestibulum tincidunt nisi. Venenatis nunc vel mollis risus mi urna egestas ullamcorper aliquet vulputate. Ullamcorper dictumst vestibulum erat luctus urna adipiscing quisque ornare pharetra justo pellentesque quam. Labore velit tempus dolore eu imperdiet porttitor sodales orci."}],["core/quote",{className:"is-style-default",style:{elements:{link:{color:{text:"var:preset|color|wmf-report-blue"}}}},textColor:"wmf-report-blue"},[["core/paragraph",{className:"is-style-h2",content:"<strong>Lorem ipsum dolor sit amet id cras tortor malesuada.</strong>"}]]],["core/paragraph",{content:"Lorem ipsum dolor sit amet tristique lacus arcu justo curabitur ut mollis habitasse mollis orci. Maecenas lectus tellus suspendisse porttitor senectus lobortis cras netus sollicitudin hac magna. Id lacus turpis posuere donec proin tempor maecenas porttitor eu sollicitudin orci fringilla. Ac orci proin quisque leo vestibulum magna mollis sollicitudin pretium sed arcu lacus nullam adipiscing. Nunc nec aliquam netus consectetur id egestas eget volutpat ultrices do tristique dui iaculis vulputate."}],["core/quote",{className:"is-style-pullquote"},[["core/paragraph",{className:"is-style-h2",content:"<strong>Lorem ipsum dolor sit amet id cras tortor malesuada.</strong>"}]]],["core/paragraph",{content:"Feugiat posuere convallis senectus faucibus sollicitudin ultricies curabitur sodales lectus eros volutpat nisi. Feugiat est pretium orci nunc sapien auctor enim mattis habitasse scelerisque diam ultricies tristique ut. Nisi nibh gravida cras aenean aliqua mollis at justo tellus lacinia dui. Congue tellus viverra adipiscing suspendisse dapibus sapien pharetra auctor laoreet morbi dictum phasellus leo quisque. Cras elementum ultricies fermentum nisi velit platea lacus suspendisse at tempus tincidunt erat."}]]]]]]})]})},save:()=>(0,i.jsx)(s.InnerBlocks.Content,{})})})();