(()=>{const e=document.getElementsByClassName("wp-block-wmf-reports-overlay");Array.from(e).forEach((e=>{if(!(e?.innerHTML||"").replace(/<\/?[^>]+(>|$)/g,"").trim())return;const t=e.closest(".has_overlay"),o=t?.querySelector(".overlay__trigger");o&&(o.setAttribute("aria-label","Open content in overlay"),o.addEventListener("mouseover",(()=>{const t=e.content.cloneNode(!0).querySelectorAll("img");if(!t.length)return;const o=(()=>{const e="wmf-overlay-image-priming",t=document.getElementById(e);if(t)return t;const o=document.createElement("div");return o.classList.add("screen-reader-text"),o.id=e,document.body.appendChild(o),o})();o&&(o.innerHTML="",t.forEach((e=>{e.removeAttribute("loading"),o.appendChild(e)})))})),o.addEventListener("click",(o=>{o.preventDefault();const r=t.closest(".wp-block-group[id]")?.id;location.hash=`${r}-${t.id}`;const n=document.querySelector("body");n.style.overflow="hidden";const a=document.createElement("div");a.classList.add("wmf-annual-reports-overlay-wrapper"),a.style.opacity=0,a.setAttribute("role","alertdialog"),a.setAttribute("aria-modal","true");const l=document.createElement("div");l.classList.add("wmf-annual-reports-overlay-popover"),l.classList.add("overlay"),l.append(e.content.cloneNode(!0)),l.style.opacity=0;const s=document.createElement("button");s.classList.add("wmf-annual-reports-overlay-popover-close"),a.setAttribute("aria-label","Close overlay");const c=document.createElement("span");return c.classList.add("screen-reader-text"),c.innerHTML="Close Overlay",s.appendChild(c),a.appendChild(l),l.appendChild(s),n.appendChild(a),l.focus(),l.getBoundingClientRect().height<window.innerHeight&&l.classList.add("center"),setTimeout((()=>{a.style.opacity=1,l.style.opacity=1}),1),s.addEventListener("click",(()=>{a.style.opacity=0,l.style.opacity=0,setTimeout((()=>{n.style.overflow=null,l.blur(),a.remove()}),300)})),!1})))}))})();