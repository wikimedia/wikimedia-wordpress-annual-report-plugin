(()=>{const e=document.getElementsByClassName("wp-block-wmf-reports-overlay");Array.from(e).forEach((e=>{if(!(e?.innerHTML||"").replace(/<\/?[^>]+(>|$)/g,"").trim())return;const t=e.closest(".has_overlay"),o=t?.querySelector(".overlay__trigger");o&&(o.setAttribute("aria-label","Open content in overlay"),o.addEventListener("click",(o=>{o.preventDefault();const a=t.closest(".wp-block-group[id]")?.id;location.hash=`${a}-${t.id}`;const r=document.querySelector("body");r.style.overflow="hidden";const l=document.createElement("div");l.classList.add("wmf-annual-reports-overlay-wrapper"),l.style.opacity=0,l.setAttribute("role","alertdialog"),l.setAttribute("aria-modal","true");const n=document.createElement("div");n.classList.add("wmf-annual-reports-overlay-popover"),n.classList.add("overlay"),n.append(e.content.cloneNode(!0)),n.style.opacity=0;const s=document.createElement("button");s.classList.add("wmf-annual-reports-overlay-popover-close"),l.setAttribute("aria-label","Close overlay");const c=document.createElement("span");return c.classList.add("screen-reader-text"),c.innerHTML="Close Overlay",s.appendChild(c),l.appendChild(n),n.appendChild(s),r.appendChild(l),n.focus(),n.getBoundingClientRect().height<window.innerHeight&&n.classList.add("center"),setTimeout((()=>{l.style.opacity=1,n.style.opacity=1}),1),s.addEventListener("click",(()=>{l.style.opacity=0,n.style.opacity=0,setTimeout((()=>{r.style.overflow=null,n.blur(),l.remove()}),300)})),!1})))}))})();