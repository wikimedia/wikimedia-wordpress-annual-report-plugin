(()=>{var e,r={153:(e,r,o)=>{"use strict";const t=window.wp.blocks,n=window.wp.i18n,l=window.wp.blockEditor,a=window.wp.data,s=window.wp.element,i=window.ReactJSXRuntime,c=()=>{},d=({color:e=null,label:r="",onColorChange:o=c,clientId:t})=>{const n=(0,l.__experimentalUseMultipleOriginColorsAndGradients)(),a=[{colorValue:e,onColorChange:o,label:r}];return(0,i.jsx)(l.InspectorControls,{group:"color",children:(0,i.jsx)(l.__experimentalColorGradientSettingsDropdown,{settings:a,panelId:t,hasColorsOrGradients:!1,__experimentalIsRenderedInSidebar:!0,...n})})};var u=o(556),p=o.n(u);const g=window.React;function v({className:e,allowedBlocks:r,template:o,currentItemIndex:t=0,parentBlockId:n,renderAppender:a=!1,captureToolbars:s=!0}){const c=(0,g.useRef)(),d=(0,l.useInnerBlocksProps)({id:`inner-block-display-single-${n}`,className:e},{__experimentalCaptureToolbars:s,allowedBlocks:r,orientation:"horizontal",renderAppender:a,template:o,templateLock:!1});return(0,g.useEffect)((()=>{c.current&&(c.current.innerHTML=`#inner-block-display-single-${n} > *:not(:nth-child(${t+1}) ) { display: none; }`)}),[t,c,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{ref:c}),(0,i.jsx)("div",{...d})]})}v.propTypes={parentBlockId:p().string.isRequired,allowedBlocks:p().arrayOf(p().string).isRequired,template:p().array,className:p().string,currentItemIndex:p().number,renderAppender:p().oneOfType([p().bool,p().element])};const f=v;var h=o(942),m=o.n(h);const b=window.wp.components;function y({totalPages:e,currentPage:r,setCurrentPage:o,prevEnabled:t,nextEnabled:n,addSlide:l=()=>{},addSlideEnabled:a=!1}){return(0,i.jsxs)("div",{className:"inner-block-slider__navigation",children:[(0,i.jsx)(b.IconButton,{disabled:!t,icon:"arrow-left-alt2",isSecondary:!0,isSmall:!0,onClick:()=>{t&&o(r-1)}}),[...Array(e).keys()].map((e=>(0,i.jsx)(b.Button,{"aria-label":`Slide ${e+1}`,className:m()("components-button","is-not-small",{"is-primary":r===e+1,"is-secondary":r!==e+1}),type:"button",onClick:()=>{o(e+1)},children:e+1},e+1))),(0,i.jsx)(b.IconButton,{disabled:!n,icon:"arrow-right-alt2",isSecondary:!0,isSmall:!0,onClick:()=>{n&&o(r+1)}}),(0,i.jsx)(b.IconButton,{disabled:!a,icon:"plus-alt2",isSecondary:!0,isSmall:!0,onClick:()=>l()})]})}y.propTypes={totalPages:p().number.isRequired,currentPage:p().number.isRequired,setCurrentPage:p().func.isRequired,prevEnabled:p().bool.isRequired,nextEnabled:p().bool.isRequired,addSlide:p().func,addSlideEnabled:p().bool};const C=y,x=(0,l.withColors)({navTextColor:"nav-text-color",navBackgroundColor:"nav-background-color",navTextHoverColor:"nav-text-hover-color",navBackgroundHoverColor:"nav-background-hover-color"})((({attributes:e,clientId:r,navTextColor:o,setNavTextColor:c,navBackgroundColor:u,setNavBackgroundColor:p,navTextHoverColor:g,setNavTextHoverColor:v,navBackgroundHoverColor:h,setNavBackgroundHoverColor:m})=>{const b=(0,a.useSelect)((e=>e("core/block-editor").getBlock(r).innerBlocks)),{insertBlock:y,selectBlock:x,updateBlockAttributes:k}=(0,a.useDispatch)("core/block-editor"),w=(0,s.useRef)(b.length),[_,B]=(0,s.useState)(0),[I,S]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=document.getElementsByClassName("stories__categories-wrapper")?.[0],r=document.getElementsByClassName("stories__categories")?.[0],o=document.querySelector(".category-slide.active"),t=document.querySelector(".category-slide:last-child"),n=r.style.marginLeft||0,l=e?.getBoundingClientRect(),a=o?.getBoundingClientRect(),s=t?.getBoundingClientRect();if(0!==_)if(s.right<l.right)S(0);else if(_!==w.current-1){if(_>0&&_<w.current-1){const e=document.querySelector(".category-slide:first-child"),r=a.right-a.left,o=a.left-parseInt(n),t=(l.right-l.left)/2,i=l.right-t-o+r/2,c=e?.getBoundingClientRect();if(c.left-parseInt(n)+i>l.left)return void S(0);const d=s.right-parseInt(n);if(d+i<l.right)return void S(l.right-d);S(i)}}else{const e=a.right-a.left,r=a.left-parseInt(n),o=l.right-(r+e);S(o)}else S(0)}),[_]),(0,s.useEffect)((()=>{(b.length>w.current||b.length<w.current&&_+1>b.length)&&B(b.length-1),w.current=b.length}),[b.length,_,w,b]);const j=(0,l.useBlockProps)({className:"stories carousel"});return(0,i.jsxs)("div",{...j,children:[(0,i.jsx)(d,{label:(0,n.__)("Nav: Text","wmf-reports"),color:o?.color||e.navTextColor,onColorChange:c,clientId:r}),(0,i.jsx)(d,{label:(0,n.__)("Nav: Background","wmf-reports"),color:u?.color||e.navBackgroundColor,onColorChange:p,clientId:r}),(0,i.jsx)(d,{label:(0,n.__)("Nav: Text Hover","wmf-reports"),color:g?.color||e.navTextHoverColor,onColorChange:v,clientId:r}),(0,i.jsx)(d,{label:(0,n.__)("Nav: Background Hover","wmf-reports"),color:h?.color||e.navBackgroundHoverColor,onColorChange:m,clientId:r}),(0,i.jsx)("div",{className:"stories__categories-wrapper alignwide",children:(0,i.jsx)("div",{className:"stories__categories",style:{marginLeft:I},children:b.map(((e,t)=>{const{attributes:a,clientId:s}=e,{category:c}=a;return(0,i.jsx)(l.RichText,{className:"category-slide "+(t===_?"active":""),placeholder:(0,n.__)("Category Name","wmf-reports"),tagName:"div",style:{backgroundColor:t===_?h?.color:u?.color,borderColor:t===_?h?.color:"",color:t===_?g?.color:o?.color},value:c,onChange:e=>{k(s,{category:e})},onClick:()=>{B(t),x(r)}},s)}))})}),(0,i.jsxs)("div",{className:"inner-block-slider",children:[(0,i.jsx)(f,{allowedBlocks:["wmf-reports/story"],className:"slides",currentItemIndex:_,parentBlockId:r,template:[["wmf-reports/story"]]}),(0,i.jsx)("p",{className:"help",children:(0,n.__)("Click on the + below to add a slide. You can associate a slide with a post after it has been inserted.","wmf-reports")}),(0,i.jsx)(C,{addSlide:()=>{const e=Date.now(),o=(0,t.createBlock)("wmf-reports/story",{id:e});y(o,void 0,r)},addSlideEnabled:!0,currentPage:_+1,nextEnabled:_+1<b.length,prevEnabled:_+1>1,setCurrentPage:e=>{B(e-1)},totalPages:b.length})]})]})})),k=JSON.parse('{"UU":"wmf-reports/stories"}');(0,t.registerBlockType)(k.UU,{edit:x,save:()=>(0,i.jsx)(l.InnerBlocks.Content,{})})},556:(e,r,o)=>{e.exports=o(694)()},694:(e,r,o)=>{"use strict";var t=o(925);function n(){}function l(){}l.resetWarningCache=n,e.exports=function(){function e(e,r,o,n,l,a){if(a!==t){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function r(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:l,resetWarningCache:n};return o.PropTypes=o,o}},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},942:(e,r)=>{var o;!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e="",r=0;r<arguments.length;r++){var o=arguments[r];o&&(e=a(e,l(o)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var o in e)t.call(e,o)&&e[o]&&(r=a(r,o));return r}function a(e,r){return r?e?e+" "+r:e+r:e}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(r,[]))||(e.exports=o)}()}},o={};function t(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={exports:{}};return r[e](l,l.exports,t),l.exports}t.m=r,e=[],t.O=(r,o,n,l)=>{if(!o){var a=1/0;for(d=0;d<e.length;d++){for(var[o,n,l]=e[d],s=!0,i=0;i<o.length;i++)(!1&l||a>=l)&&Object.keys(t.O).every((e=>t.O[e](o[i])))?o.splice(i--,1):(s=!1,l<a&&(a=l));if(s){e.splice(d--,1);var c=n();void 0!==c&&(r=c)}}return r}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,n,l]},t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={638:0,452:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var n,l,[a,s,i]=o,c=0;if(a.some((r=>0!==e[r]))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(i)var d=i(t)}for(r&&r(o);c<a.length;c++)l=a[c],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(d)},o=globalThis.webpackChunkannual_report=globalThis.webpackChunkannual_report||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var n=t.O(void 0,[452],(()=>t(153)));n=t.O(n)})();