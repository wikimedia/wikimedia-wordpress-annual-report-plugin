@use "../helpers/variables";

.wmf-pattern-report-welcome {
	p + p {
		margin-top: 0;
	}

	&:has(> .has-background:last-child) + .photo-attribution,
	&:has(> .spotlight:last-child) + .photo-attribution {
		margin-block-start: 0;
	}
}

.wmf-pattern-report-into-hero {
	display: grid;
	padding-block: 0 !important;

	@media only screen and (max-width: 781px) {
		padding-left: 0 !important;
	}

	&__image.wp-block-image,
	&__heading {
		grid-column: 1 / span 1;
		grid-row: 1 / span 1;
	}

	&__heading {
		align-items: center;
		display: flex;
		margin: 0 !important;
		width: 100%;
	}

	&__heading .wmf-pattern-reports-hero__heading-pill {
		margin-bottom: 0 !important;
		transform: none !important;
	}

	&__image.wp-block-image {
		margin-bottom: 0;
		min-width: 100%;

		img {
			object-fit: cover;
			height: 512px;
		}
	}

	.has-large-font-size {
		line-height: 1.5;
	}

	&__heading-label {
		background: var(--wp--preset--color--main);
		color: var(--wp--preset--color--base);
		font-weight: var(--wp--custom--font-weight--normal);
		text-transform: uppercase;
		font-size: var(--wp--preset--font-size--medium);
		padding: 0.5rem 1rem 0.5rem 1rem;
		margin-bottom: 1rem;
		position: absolute;
		top: -1rem;

		// stylelint-disable-next-line no-descending-specificity
		img {
			filter: brightness(0) invert(1);
			line-height: 0;
			margin: 0 0.5rem -4px 0;
			padding: 0;
		}
	}

	.wp-block-buttons {
		margin-bottom: 0;

		.wp-block-button.is-style-tertiary {
			.wp-block-button__link.wp-element-button {
				color: #00a0ff;
				border-color: #00a0ff;
				box-shadow: none;

				&:hover {
					box-shadow: none;
					text-decoration: none;
					opacity: 0.8;
				}
			}
		}
	}
}

.wmf-pattern-report-intro-columns.wp-block-columns {
	margin-bottom: 0;

	@media only screen and (max-width: 781px) {
		gap: 0;

		.wp-block-column:nth-child(even) {
			margin-top: 2rem;
		}
	}

	.wmf-pattern-report-intro-columns__select {
		position: relative;
		margin-bottom: 1rem;

		button.dropdown-toggle {
			width: 100%;
		}

		ul {
			height: 0;
			margin: 0;
			position: absolute;
			visibility: hidden;
			width: 100%;
			z-index: 2;

			strong {
				font-weight: inherit;
			}
		}

		button.dropdown-toggle[aria-expanded="true"] + ul {
			visibility: visible;
			height: auto;
		}
	}
}

.wmf-pattern-previous-report-columns.wp-block-columns {
	margin-bottom: 0;
	padding: 0;

	@media only screen and (min-width: 782px) {
		width: calc(100% + 1rem);
		max-width: calc(100% + 1rem) !important;
		margin-left: -1rem !important;
	}

	.wp-block-column:nth-child(even) {
		@media only screen and (max-width: 781px) {
			margin-left: 0;
		}
	}
}

.wmf-pattern-previous-report {
	position: relative;
	padding: 0 1rem;
	position: relative;

	@media only screen and (min-width: 782px) {
		border-radius: 30px;
		width: calc(100% + 1rem);
	}

	&.selected {
		background-color: #c0e6ff;
	}

	&__duration {
		background: #000;
		color: #fff;
		display: inline-block;

		font-weight: variables.$font-weight-base;
		text-transform: uppercase;
		font-size: 15px;
		padding: 0.5rem 1rem 0.5rem 1rem;
		margin-bottom: 1rem;
		top: 0.5rem;
		left: -1rem;
		position: relative;
	}

	&__image.wp-block-image {
		margin-bottom: 0.5rem;
		margin-top: -1rem;

		img {
			border-bottom-right-radius: 30px;
			width: 100% !important;
			height: auto !important;
		}
	}

	&__link {
		font-size: 18px;
		margin-top: 0.5rem !important;

		a {
			color: #000;
			font-size: 18px;

			&:hover {
				color: #000;
			}

			// Click blanket.
			&::before {
				content: "";
				position: absolute;
				top: 0;
				bottom: 0;
				left: 0;
				right: 0;
			}

			&::after {
				content: " ";
				// stylelint-disable-next-line function-url-quotes
				background-image: url('data:image/svg+xml,<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 16H16V11H18V16C18 17.1046 17.1046 18 16 18H2C0.895431 18 0 17.1046 0 16V2C0 0.89543 0.89543 0 2 0H7V2H2V16Z" fill="%23202122"/><path d="M10 0H18V8L14.71 4.71L8.98 10.44L7.56 9.02L13.29 3.29L10 0Z" fill="%23202122"/></svg>');
				background-repeat: no-repeat;
				margin-left: 0.25rem;
				height: 15px;
				width: 14px;
				display: inline-block;
				background-size: contain;
			}
		}
	}

	&__date {
		font-size: 15px;
		margin-top: 0.5rem !important;
	}
}

.wmf-pattern-report-intro-donate.wp-block-group {
	margin-top: 2rem;
	padding-top: 4rem !important;
	padding-bottom: 4rem !important;
	position: relative;

	.wp-block-columns {
		margin-bottom: 0;

		.wp-block-image {
			margin-bottom: 0;
		}
	}

	.wp-block-buttons {
		position: absolute;
		bottom: 4rem;
		margin: 0;

		img {
			filter: brightness(0) invert(1);
		}
	}

	.wp-block-column:nth-child(even) {
		@media only screen and (max-width: 781px) {
			margin-left: 0;
		}
	}
}
