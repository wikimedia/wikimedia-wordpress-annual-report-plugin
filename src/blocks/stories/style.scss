@use "../../helpers/variables";

.wp-block-wmf-reports-stories {

	.wp-block-group.alignfull,
	.alignfull {
		margin: 0;
		width: 100%;
	}

	.alignwide {
		max-width: variables.$width-breakpoint-wide;
	}
}

.wp-block-wmf-reports-story {

	&.animate {
		transition: all 0.25s;
	}
}

.stories {

	&.carousel &__categories-wrapper.alignwide {
		margin: auto;
		margin-bottom: 2rem;
		max-width: calc(variables.$width-breakpoint-wide + 4rem) !important;
		overflow: scroll;
		padding-left: 0;
		padding-right: 0;
		padding-top: 2px;
		position: relative;
		scrollbar-width: none;
	}

	&.carousel &__categories-outer-wrapper.alignwide {
		max-width: calc(variables.$width-breakpoint-wide + 4rem) !important;
		margin-left: auto;
		margin-right: auto;
		overflow: hidden;
		padding-left: 0;
		padding-right: 0;
		position: relative;
	}

	&__categories {
		display: flex;
		gap: 0.8rem;
		padding: 0 2rem 1px; // Solves a "bottom border displays half-width" issue in Safari iOS.
		transition: all 0.5s;
		width: max-content;

		@media screen and (min-width: 782px) {
			gap: 1rem;
		}
	}

	.category-slide {
		background-color: var( --story-nav-background-color, #fff );
		color: var( --story-nav-text-color, #000 );
		border: 1px solid #aaa;
		cursor: pointer;
		font-size: 0.75rem;
		max-width: 90px;
		padding: 0.6rem 0.4375rem;
		text-align: center;

		@media screen and (min-width: 782px) {
			font-size: 0.9375rem;
			max-width: unset;
			padding: 1rem;
		}

		&:hover,
		&:focus,
		&.active {
			background-color: var( --story-nav-background-hover-color, #ff7800 );
			border-color: var( --story-nav-background-hover-color, #ff7800 );
			color: var( --story-nav-text-hover-color, #ffffff );

			img {
				filter: brightness(0) invert(1);
			}
		}

		/* stylelint-disable no-descending-specificity */
		img {
			display: block;
			height: 1rem;
			margin: 0 auto 0.5rem auto;
			min-height: variables.$font-size-base;
			min-width: variables.$font-size-base;
			width: auto;
		}
		/* stylelint-enable no-descending-specificity */
	}

	.wp-block-buttons {
		display: inline-block; // Prevents overlap with nav arrows.
	}
}

.wmf-pattern-stories-learn-more {
	padding: 1.25rem !important; // Overrides... some other group style.
	margin: 2rem 0 !important;

	@media screen and (min-width: 980px) {
		padding: 2.5rem 2.5rem 2rem !important;
		margin: 3rem 0 !important;
	}

	h3,
	h4,
	p {
		margin-bottom: 1rem;
	}

	h3,
	h4 {
		font-size: 1.5rem;
		font-weight: 700;
	}

	p {
		font-size: 0.9375rem;
	}

	:last-child {
		margin-bottom: 0;
	}
}
